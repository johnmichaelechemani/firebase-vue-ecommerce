import{j as d,m as b,q as z,s as x,c as l,a as t,d as c,t as k,b as i,x as p,g as N,n as g,e as v,_ as w,F,k as q,y as A,r as M,o,z as T,I as h,p as y,f as V,A as L,B as R}from"./index-Ce3yGuet.js";const S={class:""},D={class:"relative sm:mb-14 mb-5"},U={class:"w-full h-32 sm:h-52 bg-gray-700/50"},E=["src"],Y={class:"sm:size-20 size-10 border-2 border-gray-700 bg-gray-700/90 absolute sm:-bottom-10 -bottom-5 left-2 shadow-xl"},G=["src"],H={class:"mb-3 flex justify-start items-center gap-2"},J={class:"font-semibold text-lg drop-shadow-lg"},K={class:"flex justify-start items-center gap-4"},O={class:"my-2"},Q={key:0},W={class:"flex flex-wrap gap-1"},X={key:1,class:"flex gap-2"},Z={class:"flex gap-2"},ee=["onClick"],te={key:0},se={class:"flex flex-wrap gap-1 my-5"},le={__name:"mallsAccount",setup(oe){const C=L(),_=A(),a=d("shop"),u=d(!0),f=d(y);b(async()=>{await z()});const m=(s,e)=>{C.push({path:`/malls/${e}/`,query:{category:s}})},I=x(()=>{const s=_.params.id;return R.value.find(e=>e.userId===s)}),n=x(()=>I.value||{userName:"Unknown Mall",image:null,bgImage:null}),j=()=>{u.value=!u.value,f.value=y.value.sort((s,e)=>u.value?e.price-s.price:s.price-e.price)},P=s=>{m("price",s),j()};b(()=>{m("popular",_.params.id)});const $=d([{id:1,name:"Popular",category:"popular"},{id:2,name:"Latest",category:"latest"},{id:3,name:"Top Sales",category:"top_sales"},{id:4,name:"Price",category:"price",icon:!0}]);return(s,e)=>{const B=M("router-link");return o(),l("div",S,[t("div",D,[t("div",U,[n.value.image?(o(),l("img",{key:0,src:n.value.bgImage,loading:"lazy",alt:"Background Image",class:"w-full h-full object-cover object-center"},null,8,E)):c("",!0)]),t("div",Y,[n.value.image?(o(),l("img",{key:0,src:n.value.image,alt:"profile",loading:"lazy",class:"w-full h-full object-cover object-center"},null,8,G)):c("",!0)])]),t("div",H,[t("h1",J,k(n.value.userName),1),i(T)?(o(),p(B,{key:0,to:{name:"mallsChat",params:{id:n.value.mallId}},class:"p-1 shadow border hover:bg-gray-500/10"},{default:N(()=>[v(i(h),{icon:"material-symbols-light:chat-outline",width:"24",height:"24"})]),_:1},8,["to"])):c("",!0)]),t("div",K,[t("button",{class:g(["px-4 py-1 text-sm font-semibold",{"bg-gray-800 text-white":a.value==="shop","text-gray-800":a.value!=="shop"}]),onClick:e[0]||(e[0]=r=>a.value="shop")}," Shop ",2),t("button",{class:g(["px-4 py-1 text-sm font-semibold",{"bg-gray-800 text-white":a.value==="products","text-gray-800":a.value!=="products"}]),onClick:e[1]||(e[1]=r=>a.value="products")}," Products ",2)]),e[3]||(e[3]=t("hr",null,null,-1)),t("div",O,[a.value==="shop"?(o(),l("div",Q,[e[2]||(e[2]=t("p",{class:"font-semibold text-sm my-2"},"Recommended For You",-1)),t("div",W,[v(w,{products:i(y)},null,8,["products"])])])):c("",!0),a.value==="products"?(o(),l("div",X,[t("div",null,[t("div",Z,[(o(!0),l(F,null,q($.value,r=>(o(),l("button",{key:r.id,onClick:ae=>r.category==="price"?P(s.$route.params.id):m(r.category,s.$route.params.id),class:g([s.$route.query.category===r.category?"border-b-4 border-gray-800 font-semibold ":"hover:bg-gray-700/10 border font-medium","px-2 py-1 text-sm flex justify-start items-center gap-1 transition "])},[V(k(r.name)+" ",1),r.icon?(o(),l("div",te,[u.value?(o(),p(i(h),{key:0,icon:"mdi-light:arrow-up",width:"16",height:"16"})):(o(),p(i(h),{key:1,icon:"mdi-light:arrow-down",width:"16",height:"16"}))])):c("",!0)],10,ee))),128))]),t("div",se,[v(w,{products:f.value},null,8,["products"])])])])):c("",!0)])])}}};export{le as default};
