import{m as u,n as i,p as g,c as t,f as d,d as _,_ as y,F as x,q as k,s as M,t as b,o as a,P,a as l,x as w,h as z,y as B,z as m,A as L,r as T}from"./index-KYwfQVKJ.js";const $={key:0,class:"text-center"},A={key:2},D={class:"text-xl font-bold text-gray-800 uppercase"},I={class:"flex items-center mb-4"},C=["src","alt"],E={class:"overflow-x-auto flex gap-2"},S={__name:"mallsHome",setup(F){const o=u(!0),r=u(null),p=i(()=>m.value.filter(e=>e.mallType==="fashion")),f=i(()=>m.value.filter(e=>e.mallType==="electronics")),v=i(()=>[...p.value,...f.value].map(c=>({...c,mallProducts:L.value.filter(n=>n.mallId===c.userId)})));async function h(){try{o.value=!0,await M(),b()}catch(e){r.value=e,console.error("Data fetching failed:",e)}finally{o.value=!1}}return g(h),(e,c)=>{const n=T("router-link");return o.value?(a(),t("div",$,[d(P)])):r.value?(a(),_(y,{key:1,"err-message":r.value.message},null,8,["err-message"])):(a(),t("div",A,[(a(!0),t(x,null,k(v.value,s=>(a(),t("div",{key:s.id,class:"mb-6 p-4 bg-white border"},[l("h2",D,w(s.mallType),1),l("div",I,[d(n,{to:{name:"mallStore",params:{id:s.userId}}},{default:z(()=>[l("img",{src:s.userPhotoURL,loading:"lazy",alt:`${s.mallType} mall logo`,class:"w-16 h-16 object-cover mr-4"},null,8,C)]),_:2},1032,["to"])]),l("div",E,[(a(),_(B,{products:s.mallProducts,key:`products-${s.id}`},null,8,["products"]))])]))),128))]))}}};export{S as default};
