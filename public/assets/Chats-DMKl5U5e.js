import{J as b,m as u,S as x,p as k,s as w,c as o,a as s,f as m,b as a,g as C,h,U as I,d as v,C as j,o as e,I as z,F as M,q as N,B,x as _,z as L,e as R,R as U,r as V}from"./index-COLGLzO9.js";import{c as F,l as S,g as T,U as A}from"./UserLoading-DJGlg0JA.js";const D={class:"sm:ml-72 ml-20 fixed top-14 left-0 sm:w-[calc(100%-18rem)] w-[calc(100%-5rem)] h-full"},P={class:"p-2"},q={class:"text-sm font-semibold flex gap-1 justify-start items-center"},E={class:"flex gap-4"},J={key:0,class:"my-2 bg-gray-400/5 border shadow-xl w-16 sm:w-72 overflow-y-scroll no-scrollbar h-[calc(100vh-3.5rem)]"},$=["onClick"],G={class:"size-8 sm:size-10 flex rounded-full justify-center items-center border"},H=["src"],K={key:1,class:"flex justify-center items-center"},O={class:"hidden sm:block"},Q={class:"text-sm font-semibold capitalize"},W={class:"text-xs truncate font-medium max-w-32"},X={class:"my-2 border-gray-700/50 w-full"},Y={key:1,class:"bg-gray-400/5 border shadow-xl overflow-y-scroll no-scrollbar h-[calc(100vh-3.5rem)] p-2"},os={__name:"Chats",setup(Z){const{selectedMall:f}=F(),g=b.value.userId,n=j(),c=u(!0),i=u(n.params.id);x(()=>n.params.id,l=>{i.value=l});function y(){c.value=!c.value}const d=u(!1);return k(async()=>{d.value=!0;try{await w()}catch(l){console.log(l)}finally{d.value=!1}f(n.params.id)}),(l,r)=>{const p=V("router-link");return e(),o("div",D,[s("div",P,[s("div",q,[s("div",{onClick:y,class:"p-1 hover:bg-gray-800/10 rounded-full cursor-pointer"},[m(a(z),{icon:"material-symbols-light:menu-open-rounded",width:"24",height:"24"})]),r[0]||(r[0]=C(" Chats "))]),s("div",E,[m(I,null,{default:h(()=>[c.value?(e(),o("div",J,[d.value?(e(),v(A,{key:1})):(e(!0),o(M,{key:0},N(a(L),t=>(e(),o("div",{key:t.userId,onClick:ss=>a(f)(t.userId)},[m(p,{to:{name:"mallsChat",params:{id:t.userId}}},{default:h(()=>[s("div",{class:B([i.value===t.userId?"border border-gray-800/50 shadow-xl p-1":"hover:bg-gray-700/10 transition p-1","flex gap-2 justify-center sm:justify-start items-center my-2 sm:mx-2"])},[s("div",G,[t.userPhotoURL?(e(),o("img",{key:0,src:t.userPhotoURL,loading:"lazy",alt:"",class:"w-full h-full rounded-full object-cover object-center"},null,8,H)):(e(),o("div",K,r[1]||(r[1]=[s("div",{class:"size-10 bg-gray-300 rounded-full"},null,-1)])))]),s("div",O,[s("p",Q,_(t.userName),1),s("p",W,_(a(S)[a(T)(a(g),t.userId)]),1)])],2)]),_:2},1032,["to"])],8,$))),128))])):R("",!0)]),_:1}),s("div",X,[i.value?(e(),v(a(U),{key:0})):(e(),o("div",Y,r[2]||(r[2]=[s("div",{class:"text-sm font-semibold"},"Select Chat",-1),s("div",{class:"font-semibold text-sm border p-2 my-2 text-gray-600"}," Nothings here! ",-1)])))])])])])}}};export{os as default};
