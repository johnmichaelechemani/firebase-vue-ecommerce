import{u as U,N as A,j as o,m as E,c as v,a as t,w as l,v as u,f as b,h as S,F as T,p as j,d as q,U as B,V as k,J as f,S as F,W as M,a1 as K,Y as L,o as y,t as c,e as N,b as V,I as P}from"./index-B-cudqEO.js";const $={class:"sm:ml-72 ml-20 fixed top-12 left-0 sm:w-[calc(100%-18rem)] w-[calc(100%-5rem)] h-full"},J={class:"m-2 overflow-y-scroll no-scrollbar h-[calc(100vh-3.5rem)] pb-32"},Q={action:""},W={class:"flex flex-wrap gap-2"},Y={class:"border p-2"},z={class:"border p-2"},G={class:"border p-2"},H={class:"border flex items-center gap-1 px-3 max-w-32"},O={class:"border p-2"},R={class:"border flex items-center gap-1 px-3 max-w-32"},X={class:"border p-2"},Z={class:"border flex items-center gap-1 px-3 max-w-32"},tt={class:"border p-2"},et={class:"flex flex-wrap gap-2"},st={class:"relative overflow-x-auto shadow-sm w-full"},ot={class:"w-full text-sm text-left rtl:text-right"},lt={class:"border-b"},at={scope:"row",class:"px-6 py-4 font-medium whitespace-nowrap"},rt={class:"px-6 py-4"},nt={class:"px-6 py-4"},dt={class:"px-6 py-4"},it={class:"px-6 py-4"},ut={class:"px-6 py-4 flex justify-start items-center gap-2"},ct={class:"font-medium text-green-500 border border-green-500/20 p-1"},pt={class:"font-medium text-red-500 border border-red-500/20 p-1"},mt={key:0,class:""},yt={__name:"mallProducts",setup(xt){const{user:g}=U(),w=A(),p=o([]),a=o(""),r=o(""),n=o(""),d=o(""),h=o(" https://via.placeholder.com/150?text=Nothing"),i=o(""),m=o(0),_=()=>{a.value="",r.value="",n.value="",d.value="",h.value=null,i.value="",m.value=0,console.log("Cleared")},D=async()=>{try{await B(k(w,"products"),{name:a.value,discription:r.value,price:n.value,image:h.value,discount:d.value,inventory:m.value,mall:!0,ratings:0,sold:0,category:i.value,mallId:g.value.uid,mallName:f.value.userName,timestamp:F()}),console.log("Adding Success"),_()}catch(x){console.log("Error",x)}console.log(a.value,r.value,n.value,d.value,i.value,g.value.uid,f.value.userName)},I=()=>{const x=M(k(w,"products"),K("mallId","==",f.value.userId));L(x,e=>{p.value=e.docs.map(s=>({id:s.id,...s.data()})),console.log("Products updated in real-time:",p.value)},e=>{console.error("Error fetching products:",e)})};return E(()=>{I()}),(x,e)=>(y(),v("div",$,[t("div",J,[e[18]||(e[18]=t("p",{class:"text-sm font-semibold py-2"},"Add Products",-1)),t("form",Q,[t("div",W,[t("div",Y,[e[6]||(e[6]=t("label",{for:"name",class:"block py-1 text-xs font-medium text-gray-700"}," Name:",-1)),l(t("input",{required:"",type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),class:"border p-1"},null,512),[[u,a.value]])]),t("div",z,[e[7]||(e[7]=t("label",{for:"name",class:"block py-1 text-xs font-medium text-gray-700"}," Discription:",-1)),l(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=s=>r.value=s),class:"border p-1"},null,512),[[u,r.value]])]),t("div",G,[e[9]||(e[9]=t("label",{for:"name",class:"block py-1 text-xs font-medium text-gray-700"}," Price:",-1)),t("div",H,[e[8]||(e[8]=b(" $ ")),l(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=s=>n.value=s),class:"w-full outline-none p-1"},null,512),[[u,n.value]])])]),t("div",O,[e[11]||(e[11]=t("label",{for:"name",class:"block py-1 text-xs font-medium text-gray-700"}," Discount:",-1)),t("div",R,[l(t("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=s=>d.value=s),class:"w-full outline-none p-1"},null,512),[[u,d.value]]),e[10]||(e[10]=b(" % "))])]),t("div",X,[e[13]||(e[13]=t("label",{for:"name",class:"block py-1 text-xs font-medium text-gray-700"}," Inventory:",-1)),t("div",Z,[e[12]||(e[12]=b(" x ")),l(t("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=s=>m.value=s),class:"w-full outline-none p-1"},null,512),[[u,m.value]])])]),t("div",tt,[e[15]||(e[15]=t("label",{for:"name",class:"block py-1 text-xs font-medium text-gray-700"}," Category:",-1)),l(t("select",{name:"",required:"","onUpdate:modelValue":e[5]||(e[5]=s=>i.value=s),id:"",class:"border text-sm p-1"},e[14]||(e[14]=[t("option",{value:"Electronics",class:"text-xs font-semibold"}," Electronics ",-1),t("option",{value:"Kitchen",class:"text-xs font-semibold"}," Kitchen Tools ",-1)]),512),[[S,i.value]])])])]),t("div",{class:"flex justify-start items-center gap-3"},[t("button",{onClick:_,class:"text-sm border py-2 font-semibold my-2 w-32 px-5"}," Clear "),t("button",{onClick:D,class:"text-sm text-white font-semibold bg-gray-800 w-32 py-2 my-2 px-5"}," Add ")]),e[19]||(e[19]=t("p",{class:"text-sm font-semibold my-2"},"Product Lists",-1)),t("div",et,[t("div",st,[t("table",ot,[e[17]||(e[17]=t("thead",{class:"text-xs text-white uppercase bg-gray-800"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"},"Product name"),t("th",{scope:"col",class:"px-6 py-3"},"Category"),t("th",{scope:"col",class:"px-6 py-3"},"Inventory"),t("th",{scope:"col",class:"px-6 py-3"},"Discount"),t("th",{scope:"col",class:"px-6 py-3"},"Price"),t("th",{scope:"col",class:"px-6 py-3"},"Action")])],-1)),(y(!0),v(T,null,j(p.value,(s,C)=>(y(),v("tbody",{key:C},[t("tr",lt,[t("th",at,c(s.name),1),t("td",rt,c(s.category),1),t("td",nt,c(s.inventory),1),t("td",dt,c(s.discount),1),t("td",it,"$ "+c(s.price),1),t("td",ut,[t("button",ct,[N(V(P),{icon:"material-symbols-light:edit-outline",width:"20",height:"20"})]),t("button",pt,[N(V(P),{icon:"material-symbols-light:restore-from-trash-outline",width:"20",height:"20"})])])])]))),128)),p.value.length===0?(y(),v("tbody",mt,e[16]||(e[16]=[t("div",{class:"p-2 text-sm font-semibold text-gray-500"}," No Products ",-1)]))):q("",!0)])])])])]))}};export{yt as default};
