import{u as b,j as m,E as x,m as w,q as k,c as a,a as s,e as l,b as t,f as C,g as h,T as I,x as j,y as M,o,I as _,F as N,k as B,n as R,t as f,B as V,d as z,R as T,r as A}from"./index-Ce3yGuet.js";import{c as F,l as L,g as E}from"./chatFunctions-Ce3naCMw.js";const P={class:"sm:ml-72 ml-20 fixed top-14 left-0 sm:w-[calc(100%-18rem)] w-[calc(100%-5rem)] h-full"},S={class:"p-2"},U={class:"text-sm font-semibold flex gap-1 justify-start items-center"},q={class:"flex gap-4"},D={key:0,class:"my-2 bg-gray-400/5 border shadow-xl w-16 sm:w-72 overflow-y-scroll no-scrollbar h-[calc(100vh-3.5rem)]"},$=["onClick"],G={class:"size-8 sm:size-10 flex justify-center items-center border"},H=["src"],J={key:1,class:"flex justify-center items-center"},K={class:"hidden sm:block"},O={class:"text-sm font-semibold capitalize"},Q={class:"text-xs truncate font-medium max-w-32"},W={class:"my-2 border-gray-700/50 w-full"},X={key:1,class:"bg-gray-400/5 border shadow-xl overflow-y-scroll no-scrollbar h-[calc(100vh-3.5rem)] p-2"},ts={__name:"Chats",setup(Y){const{selectedMall:d}=F(),{user:v}=b(),g=v.value.uid,c=M(),n=m(!0),i=m(c.params.id);x(()=>c.params.id,u=>{i.value=u});function p(){n.value=!n.value}return w(async()=>{await k(),d(c.params.id)}),(u,r)=>{const y=A("router-link");return o(),a("div",P,[s("div",S,[s("div",U,[s("div",{onClick:p,class:"p-1 hover:bg-gray-800/10 rounded-full cursor-pointer"},[l(t(_),{icon:"material-symbols-light:menu-open-rounded",width:"24",height:"24"})]),r[0]||(r[0]=C(" Chats "))]),s("div",q,[l(I,null,{default:h(()=>[n.value?(o(),a("div",D,[(o(!0),a(N,null,B(t(V),e=>(o(),a("div",{key:e.userId,onClick:Z=>t(d)(e.userId)},[l(y,{to:{name:"mallsChat",params:{id:e.userId}}},{default:h(()=>[s("div",{class:R([i.value===e.userId?"border border-gray-800/50 shadow-xl p-1":"hover:bg-gray-700/10 transition p-1","flex gap-2 justify-center sm:justify-start items-center my-2 sm:mx-2"])},[s("div",G,[e.userPhotoURL?(o(),a("img",{key:0,src:e.userPhotoURL,alt:"",class:"w-full h-full object-cover object-center"},null,8,H)):(o(),a("div",J,[l(t(_),{icon:"material-symbols-light:store",width:"30",height:"30"})]))]),s("div",K,[s("p",O,f(e.userName),1),s("p",Q,f(t(L)[t(E)(t(g),e.userId)]),1)])],2)]),_:2},1032,["to"])],8,$))),128))])):z("",!0)]),_:1}),s("div",W,[i.value?(o(),j(t(T),{key:0})):(o(),a("div",X,r[1]||(r[1]=[s("div",{class:"text-sm font-semibold"},"Select Chat",-1),s("div",{class:"font-semibold text-sm border p-2 my-2 text-gray-600"}," Nothings here! ",-1)])))])])])])}}};export{ts as default};
