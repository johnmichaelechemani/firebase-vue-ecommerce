import{j as u,k as i,m as g,c as t,b as d,n as _,_ as y,F as k,p as x,q as b,s as M,o as a,P,a as l,t as w,f as z,x as B,y as m,z as L,r as T}from"./index-CDMhr0U-.js";const $={key:0,class:"text-center"},D={key:2},I={class:"text-xl font-bold text-gray-800 uppercase"},j={class:"flex items-center mb-4"},A=["src","alt"],C={class:"overflow-x-auto flex gap-2"},N={__name:"mallsHome",setup(E){const o=u(!0),r=u(null),p=i(()=>m.value.filter(e=>e.mallType==="fashion")),f=i(()=>m.value.filter(e=>e.mallType==="electronics")),v=i(()=>[...p.value,...f.value].map(c=>({...c,mallProducts:L.value.filter(n=>n.mallId===c.userId)})));async function h(){try{o.value=!0,await b(),M()}catch(e){r.value=e,console.error("Data fetching failed:",e)}finally{o.value=!1}}return g(h),(e,c)=>{const n=T("router-link");return o.value?(a(),t("div",$,[d(P)])):r.value?(a(),_(y,{key:1,"err-message":r.value.message},null,8,["err-message"])):(a(),t("div",D,[(a(!0),t(k,null,x(v.value,s=>(a(),t("div",{key:s.id,class:"mb-6 p-4 bg-white border"},[l("h2",I,w(s.mallType),1),l("div",j,[d(n,{to:{name:"mallStore",params:{id:s.userId}}},{default:z(()=>[l("img",{src:s.userPhotoURL,loading:"lazy",alt:`${s.mallType} mall logo`,class:"w-16 h-16 object-cover mr-4"},null,8,A)]),_:2},1032,["to"])]),l("div",C,[(a(),_(B,{products:s.mallProducts,key:`products-${s.id}`},null,8,["products"]))])]))),128))]))}}};export{N as default};
