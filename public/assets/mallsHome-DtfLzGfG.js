import{j as u,k as i,m as h,c as t,b as d,n as m,_ as y,F as k,p as x,q as b,s as M,o as a,P as w,a as l,t as P,f as B,x as T,y as _,z as $,r as z}from"./index-efUQckq_.js";const D={key:0,class:"text-center"},I={key:2},L={class:"text-xl font-bold text-gray-800 uppercase"},j={class:"flex items-center mb-4"},A=["src","alt"],C={class:"overflow-x-auto flex gap-2"},N={__name:"mallsHome",setup(E){const o=u(!0),r=u(null),p=i(()=>_.value.filter(e=>e.mallType==="fashion")),f=i(()=>_.value.filter(e=>e.mallType==="electronics")),v=i(()=>[...p.value,...f.value].map(c=>({...c,mallProducts:$.value.filter(n=>n.mallId===c.userId)})));async function g(){try{o.value=!0,await b(),M()}catch(e){r.value=e,console.error("Data fetching failed:",e)}finally{o.value=!1}}return h(g),(e,c)=>{const n=z("router-link");return o.value?(a(),t("div",D,[d(w)])):r.value?(a(),m(y,{key:1,"err-message":r.value.message},null,8,["err-message"])):(a(),t("div",I,[(a(!0),t(k,null,x(v.value,s=>(a(),t("div",{key:s.id,class:"mb-6 p-4 bg-white border"},[l("h2",L,P(s.mallType),1),l("div",j,[d(n,{to:{name:"mallStore",params:{id:s.userId}}},{default:B(()=>[l("img",{src:s.image,alt:`${s.mallType} mall logo`,class:"w-16 h-16 object-cover mr-4"},null,8,A)]),_:2},1032,["to"])]),l("div",C,[(a(),m(T,{products:s.mallProducts,key:`products-${s.id}`},null,8,["products"]))])]))),128))]))}}};export{N as default};
